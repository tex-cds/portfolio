<!DOCTYPE html>
<meta charset="utf-8">
<style>
  body {
    font-family: sans-serif;
    background: #f0f0f0;
  }
  .tooltip {
    position: absolute;
    text-align: center;
    background: white;
    border: 1px solid #999;
    padding: 8px;
    border-radius: 5px;
    pointer-events: none;
    font-size: 12px;
  }
</style>
<body>
<svg width="1000" height="700"></svg>
<script src="https://d3js.org/d3.v7.min.js"></script>
<script>
// Paste this JSON directly or load it from a CSV
const data = [
  {tool: "Codeium", category: "Generative Code", upvotes: 1987},
  {tool: "LeiaPix", category: "Image Improvement", upvotes: 1779},
  {tool: "GPT-3 Playground", category: "Copywriting", upvotes: 1433},
  {tool: "BlueWillow", category: "Generative Art", upvotes: 1230},
  {tool: "Character.AI", category: "Chat", upvotes: 954},
  // Add more tools...
];

const width = 1000, height = 700;
const svg = d3.select("svg");
const tooltip = d3.select("body").append("div").attr("class", "tooltip").style("opacity", 0);

const color = d3.scaleOrdinal(d3.schemeCategory10)
  .domain([...new Set(data.map(d => d.category))]);

const size = d3.scaleSqrt()
  .domain([d3.min(data, d => d.upvotes), d3.max(data, d => d.upvotes)])
  .range([10, 60]);

const simulation = d3.forceSimulation(data)
  .force("center", d3.forceCenter(width / 2, height / 2))
  .force("charge", d3.forceManyBody().strength(5))
  .force("collision", d3.forceCollide(d => size(d.upvotes) + 4))
  .on("tick", ticked);

function ticked() {
  const u = svg.selectAll("circle")
    .data(data)
    .join("circle")
    .attr("r", d => size(d.upvotes))
    .attr("cx", d => d.x)
    .attr("cy", d => d.y)
    .attr("fill", d => color(d.category))
    .attr("stroke", "#222")
    .attr("stroke-width", 1.5)
    .on("mouseover", function(event, d) {
      tooltip.transition().duration(200).style("opacity", 0.9);
      tooltip.html(`<strong>${d.tool}</strong><br>${d.category}<br>Upvotes: ${d.upvotes}`)
        .style("left", (event.pageX + 10) + "px")
        .style("top", (event.pageY - 30) + "px");
    })
    .on("mouseout", () => tooltip.transition().duration(200).style("opacity", 0));
}
</script>
</body>
